## サクラエディタ２改造版
* 2.2.0.1をベース
* 基本的に元ソースは残しての改造
* 主に他のエディタでよかった機能とか見た目の実装
* 気になったところの修正
* マージ可能なパッチはマージ
* プロポーショナルフォント関連はスルーしています

ベースリビジョンからのマージ情報は[こちら](https://github.com/rabbiteariris/sakura2/blob/master/changes_from_r4011.txt)

<img src="https://raw.github.com/wiki/rabbiteariris/sakura2/images/sakura0.png" width="50%">
<img src="https://raw.github.com/wiki/rabbiteariris/sakura2/images/sakura1.png" width="50%">

<br>

### ● 何を変更したの？<br>
新しいバージョンで対応されているかもしれないですが 2.2.0.1 ベースということで。<br>
いくつかの設定をレジストリで変更できます(`[HKEY_CURRENT_USER\SOFTWARE\sakura_REI]`)<br>

#### ・ファイル系

- プロファイルの読み書きにレジストリを使用する<br>
  レジストリキーがない場合はiniファイルから読み込みます.<br>
  バージョンアップ時のバックアップファイル作成は行いません.<br>
  ・読み込み無効化 `NoReadProfilesFromRegistry:00000001`<br>
  ・書き込み無効化 `NoWriteProfilesToRegistry:00000001`<br>

- 履歴(検索、置換、Grep)の値を変更<br>
  検索→16 `RecentSearchKeyMax=dword:00000010`<br>
  置換→16 `RecentReplaceKeyMax=dword:00000010`<br>
  Grepファイル→8 `RecentGrepFileMax=dword:00000008`<br>
  Grepフォルダ→16 `RecentGrepFolderMax=dword:00000010`<br>

- 多重オープンの許可<br>
  Shiftを押しながらファイルのドロップで同じファイルでも新しいウィンドウで開きます<br>

#### ・操作,編集系

- カーソルのリピート幅を `1` に変更<br>

- キャレットのサイズを変更可能に<br>
  レジストリにより何種類か変更できます `CaretType=dword:00000002`<br>
  `0`: 変更なし<br>
  `1-10`: サイズ<br>
  `11`: 1バイトコードの時は1px、2バイトコードの時は2px<br>
  `12`: 半角入力の時は1px、全角入力の時は2px<br>

- 水平スクロールの挙動を変更<br>
  ・スクロール開始マージンを `1` に変更。画面の端でスクロール開始<br>
  ・スクロール幅を `16` に設定。一度に大きく移動(メモ帳と同じ挙動)<br>

- タブ文字の切り替え処理(タブ<->空白)<br>
  ・`S_ChangeTabWidth`マクロに負の値を設定すると相互に切り替えます<br>

#### ・表示系

- EOFのみの行(起動時とか)にも行番号を表示<br>

- 行を中央ぞろえにする<br>
  行の間隔を設定すると行の下にスペースが付加されるため、選択時とか検索時とか違和感があったので<br>

- 半角空白文字を `･` で描画<br>
  Sublime Textみて、これだ！って思いました<br>

- タブ文字を線のみで描画(短い矢印と長い矢印を統合)<br>
  Sublime Textみて(ry<br>

- コメント行の背景カラーを改行以降も有効にする<br>
  行コメントとかブロックコメントの背景カラーを設定している場合にわかりやすくなります<br>
  Sublime Tex(ry<br>

- 空白タブ、改行のカラーは現在のテキストカラーから自動で設定<br>
  カラー設定していると色が変わります(コメント内とか)<br>
  Sub(ry<br>

- 選択範囲カラーを変更<br>
  テキストと背景のブレント率を設定できるように<br>
  デフォルトはテキスト初期はそのままで背景だけ選択カラーにします<br>
  あと、太字装飾の文字列を選択したときに選択範囲カラーの装飾の影響を受けないように修正<br>

- カーソル行アンダーラインを行番号から引っ張る<br>

- 折り返しの縦線は引かないようにした<br>

#### ・UI系

- 変更したウィンドウのタブ名カラーを変更 `ModifiedTabCaptionColor=dword:000000d8`<br>

- 正規表現検索のときに正規表現記号をクォート<br>
  (`$10` を検索する場合 `\$10` にする)<br>

- アウトライン解析ダイアログのフォントを設定フォントに変更<br>
  ドッキング時に背景カラーを使用しない(コントロール色のまま)<br>

- ステータスバーにタブサイズとタイプ名を表示<br>

- Grepフォルダの指定を4つに増やした<br>
  `;` で区切るのもいいけど、履歴管理が面倒なんです<br>

- Grep「現在編集中のファイルから検索」をチェックした時の状態を保持しないようにする<br>
  現在編集中からのGrepって「今回だけ！」ってことが多いと思います<br>

- 置換ダイアログの置換後テキストに置換前テキストを設定<br>

- ダイレクトジャンプ一覧のカラムを選別<br>

### ● バグっぽいのを修正<br>
- 検索マーク切り替え、インクリメンタルサーチの際に検索ダイアログの「正規表現」が影響を受けないように<br>
  常時、正規表現で検索しているとコレ結構ストレスたまります<br>

- カーソル移動時に描画が崩れる問題の仮対応<br>
  キーリピートの時間が速かったり、MacType使ってると負荷がかかってるみたいで描画が崩れたり行番号と本文の描画が同期してなかったりしてます<br>
  あんまりいい修正方法ではありませんが受けるストレスのほうが大事なので気にせず修正しました<br>
  この修正がこの改造版のすべてかと思います<br>
